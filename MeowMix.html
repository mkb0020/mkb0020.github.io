<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MEOW MIX</title>
  <link rel="stylesheet" href="assets/css/KittyStyle.css">

  <style>
    /* ================= MUSIC PLAYER ================= */
    .player-container {
      max-width: 700px;
      margin: 120px auto 80px;
      background: linear-gradient(135deg, rgba(23,0,50,0.9), rgba(0,0,0,0.95));
      border: 2px solid var(--PlasmaGlow2);
      box-shadow: 0 0 40px var(--VortexGlow2);
      border-radius: 20px;
      padding: 30px;
      position: relative;
      z-index: 2;
    }

    .player-container h1 {
      text-align: center;
      font-family: 'SpaceLetters', sans-serif;
      font-size: 2rem;
      background: linear-gradient(45deg, var(--ParticlePink), var(--NuclearFuscia), var(--AlphaAqua));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 20px;
    }

    .now-playing {
      text-align: center;
      font-family: 'GothNerd', sans-serif;
      margin-bottom: 20px;
      font-size: 1.2rem;
      color: var(--ParticlePink);
    }

    .controls {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-bottom: 20px;
    }

    .controls button {
      background: linear-gradient(45deg, var(--VortexViolet), var(--NuclearFuscia));
      border: 2px solid var(--ParticlePink);
      color: white;
      padding: 10px 18px;
      font-family: 'GothNerd', sans-serif;
      font-size: 1rem;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 0 20px var(--VortexGlow2);
    }

    .controls button:hover {
      transform: scale(1.1);
      box-shadow: 0 0 40px var(--NuclearGlow3);
    }

    .progress {
      display: flex;
      align-items: center;
      gap: 10px;
      margin: 15px 0;
      font-family: monospace;
    }

    .progress input {
      flex: 1;
    }

    .volume {
      margin-top: 10px;
      text-align: center;
      font-family: monospace;
    }

    .playlist {
      margin-top: 30px;
      list-style: none;
      padding: 0;
    }

    .playlist li {
      padding: 12px 16px;
      margin-bottom: 8px;
      border: 1px solid var(--PlasmaGlow2);
      border-radius: 10px;
      cursor: pointer;
      font-family: 'GothNerd', sans-serif;
      transition: all 0.25s ease;
    }

    .playlist li:hover {
      background: rgba(131,12,222,0.25);
      box-shadow: 0 0 20px var(--VortexViolet);
      padding-left: 26px;
    }
  </style>
</head>

<body>
  <nav class="navbar">
    <div class="nav-container">
      <div class="left-dropdown">
        <button class="menu-trigger">
          <img src="/assets/images/Niels2.png" class="home-icon" alt="Menu">
        </button>
        <div class="left-menu">
          <a href="https://mkb0020.onrender.com" class="menu-item">Home</a>
          <a href="https://mkb0020.github.io/" class="menu-item">Javascript Projects</a>
          <a href="https://mkb0020.onrender.com/resume" class="menu-item">Resume</a>
          <a href="https://mkb0020.onrender.com/contact" class="menu-item">Contact</a>
          <a href="https://mkb0020.onrender.com/review" class="menu-item">Review CATastrophe 2</a>
          <a href="https://mkb0020.onrender.com/support" class="menu-item">Report an Issue</a>
          <a href="https://mkb0020.onrender.com/admin_login" class="menu-item">Admin</a>

                    <div class="social-links">
            <a href="https://www.linkedin.com/in/mkb0020/" target="_blank" aria-label="LinkedIn">
              <img src="/assets/images/linkedin-icon.png" alt="LinkedIn" class="social-icon">
            </a>
            <a href="https://github.com/mkb0020" target="_blank" aria-label="GitHub">
              <img src="/assets/images/github-icon.png" alt="GitHub" class="social-icon">
            </a>
            <!--<a href="https://www.youtube.com/@mkb0020" target="_blank" aria-label="YouTube">
              <img src="/assets/images/youtube-icon.png" alt="YouTube" class="social-icon">
            </a>-->
          </div>
        </div>
      </div>

      <a href="/"><div class="logo">â™¡ mkb0020</div></a>

      <div class="help-dropdown">
        <button class="help-icon" id="helpBtn"><div class="question-mark">?</div></button>
        <div class="dropdown-menu">
          <button id="openHelp">About This Player</button>
        </div>
      </div>
    </div>
  </nav>

  <!-- MUSIC PLAYER -->
  <div class="player-container">
    <h1><img src="/assets/images/DJNiels.png"></h1>
    <h1> Now Playing:</h1>
    <div class="now-playing" id="trackTitle">Select a track</div>

    <audio id="audio"></audio>

    <div class="controls">
      <button onclick="togglePlay()">Play / Pause</button>
    </div>

    <div class="progress">
      <span id="current">0:00</span>
      <input type="range" id="seek" value="0">
      <span id="duration">0:00</span>
    </div>

    <div class="volume">ðŸ”Š <input type="range" min="0" max="1" step="0.01" value="0.8" id="volume"></div>

    <ul class="playlist" id="playlist"></ul>
  </div>

  <!-- HELP MODAL -->
  <div id="helpModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title">Welcome to MeoMix Radio</h1>
        <button class="modal-close" id="closeHelp">Ã—</button>
      </div>
      <div class="modal-body">
        <p>Please enjoy the soundtrack for my up-and-comng game you've all been waiting for, CATastrophe2!</p>
        <ul>
          <li>Select a track from the playlist</li>
          <li>Use Play/Pause and the seek bar</li>
          <li>Adjust volume freely</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- STARS -->
  <div id="stars"></div>
  <script src="js/KittyCore.js"></script>

  <script>
    const tracks = [
      { title: 'LO-FI SONG TO DEBUG YOUR BRAIN', src: 'assets/sounds/DebuggingMyBrain.mp3' },
      { title: 'PLATFORMER TRACK 1', src: 'assets/sounds/PlatformerTrack1.mp3' },
      { title: 'PLATFORMER TRACK 2', src: 'assets/sounds/PlatformerTrack2.mp3' },
      { title: 'PLATFORMER TRACK 3', src: 'assets/sounds/PlatformerTrack3.mp3' },
      { title: 'PLATFORMER TRACK 4', src: 'assets/sounds/PlatformerTrack4.mp3' },
      { title: 'PLATFORMER TRACK 5', src: 'assets/sounds/PlatformerTrack5.mp3' },
      { title: 'CAT NAP (CLOSING SCENE)', src: 'assets/sounds/FinalVictory.mp3' },
      { title: 'CATNIP POWER UP LOOP', src: 'assets/sounds/CatnipTrack.mp3' },
      //{ title: 'BOSS BATTLE', src: 'assets/sounds/BossTrack.mp3' },
      { title: 'FINAL BOSS BATTLE', src: 'assets/sounds/FnalBossTrack.mp3' },
      { title: 'GAME OVER', src: 'assets/sounds/GameOverTrack.mp3' },
      { title: 'MAIN MENU', src: 'assets/sounds/MenuTrack.mp3' },
      { title: 'PIXEL CATS ON PARADE (BONUS SONG)', src: 'assets/sounds/PixelCatsOnParade.mp3' },
      { title: 'NIELS THEME (BONUS SONG)', src: 'assets/sounds/NielsTheme.mp3' },
      { title: 'PSYCHIC DRIVING (BONUS SONG)', src: 'assets/sounds/PsychicDriving.mp3' },


    ];

    const audio = document.getElementById('audio');
    const playlist = document.getElementById('playlist');
    const title = document.getElementById('trackTitle');
    const seek = document.getElementById('seek');
    const volume = document.getElementById('volume');

    tracks.forEach((t, i) => {
      const li = document.createElement('li');
      li.textContent = t.title;
      li.onclick = () => loadTrack(i);
      playlist.appendChild(li);
    });

    function loadTrack(i) {
      audio.src = tracks[i].src;
      title.textContent = tracks[i].title;
      audio.play();
    }

    function togglePlay() {
      audio.paused ? audio.play() : audio.pause();
    }

    audio.addEventListener('timeupdate', () => {
      seek.max = audio.duration || 0;
      seek.value = audio.currentTime;
      current.textContent = format(audio.currentTime);
      duration.textContent = format(audio.duration);
    });

    seek.addEventListener('input', () => audio.currentTime = seek.value);
    volume.addEventListener('input', () => audio.volume = volume.value);

    function format(t) {
      if (!t) return '0:00';
      const m = Math.floor(t / 60);
      const s = Math.floor(t % 60).toString().padStart(2, '0');
      return `${m}:${s}`;
    }

    document.getElementById('openHelp').onclick = () => helpModal.style.display = 'flex';
    document.getElementById('closeHelp').onclick = () => helpModal.style.display = 'none';

    // STARS
    const stars = document.getElementById('stars');
    for (let i = 0; i < 200; i++) {
      const s = document.createElement('div');
      s.className = 'star';
      s.style.width = s.style.height = Math.random() * 2 + 'px';
      s.style.left = Math.random() * 100 + '%';
      s.style.top = Math.random() * 100 + '%';
      s.style.animationDelay = Math.random() * 4 + 's';
      stars.appendChild(s);
    }
  </script>
</body>
</html>
